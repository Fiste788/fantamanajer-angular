<h3 class="mat-subheading-1">{{caption}}</h3>
<div *ngIf="dataSource" class="mat-elevation-z4">
    <table mat-table #table [dataSource]="dataSource" @tableRowAnimation>
        <ng-container matColumnDef="player">
            <th mat-header-cell *matHeaderCellDef> Giocatore </th>
            <td mat-cell *matCellDef="let row">
                <mat-icon *ngIf="regular && row.consideration == 0">arrow_back</mat-icon>
                <mat-icon *ngIf="!regular && row.consideration == 1">arrow_forward</mat-icon>
                <mat-icon *ngIf="row.consideration == 2">copyright</mat-icon>
                <div>
                    <a [routerLink]="['/players',row.member.player.id]">{{row.member.player.name}} {{row.member.player.surname}}</a>
                    <span *ngIf="captains && captains.has(row.member.id)">{{captains.get(row.member.id)}}</span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef> Ruolo </th>
            <td mat-cell *matCellDef="let row">{{row.member.role.abbreviation}}</td>
        </ng-container>

        <ng-container matColumnDef="club">
            <th mat-header-cell *matHeaderCellDef> Club </th>
            <td mat-cell *matCellDef="let row">
                <a [routerLink]="['/clubs',row.member.club.id]">{{row.member.club.name}}</a>
            </td>
        </ng-container>

        <ng-container matColumnDef="regular">
            <th mat-header-cell *matHeaderCellDef> Tit </th>
            <td mat-cell *matCellDef="let row">
                <i *ngIf="row.member.ratings[0].regular" class="material-icons">done</i>
            </td>
        </ng-container>

        <ng-container matColumnDef="yellowCard">
            <th mat-header-cell *matHeaderCellDef> Amm </th>
            <td mat-cell *matCellDef="let row">
                <i *ngIf="row.member.ratings[0].yellow_card" class="material-icons">done</i>
            </td>
        </ng-container>

        <ng-container matColumnDef="redCard">
            <th mat-header-cell *matHeaderCellDef> Esp </th>
            <td mat-cell *matCellDef="let row">
                <i *ngIf="row.member.ratings[0].red_card" class="material-icons">done</i>
            </td>
        </ng-container>

        <ng-container matColumnDef="assist">
            <th mat-header-cell *matHeaderCellDef> Assist </th>
            <td mat-cell *matCellDef="let row">{{row.member.ratings[0].assist}}</td>
        </ng-container>

        <ng-container matColumnDef="goals">
            <th mat-header-cell *matHeaderCellDef> Gol </th>
            <td mat-cell *matCellDef="let row">{{row.member.ratings[0].goals}}</td>
        </ng-container>

        <ng-container matColumnDef="points">
            <th mat-header-cell *matHeaderCellDef> Punti </th>
            <td mat-cell *matCellDef="let row">{{row.member.ratings[0].points_no_bonus * (regular ? row.consideration : 1)}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>